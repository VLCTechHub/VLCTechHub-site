<!DOCTYPE html>
<html ng-app="Vlctechhub">
    <head>
      <meta charset="UTF-8"/>
      <title>VLC Tech Hub - El hub de los eventos tecnológicos de Valencia</title>
      <link rel="stylesheet" href="css/style.css">
      <script src="lib/vendor/handlebars.js"></script>
      <script src="lib/vendor/moment.js"></script>
      <script src="lib/vendor/moment-es.js"></script>
      <script src="lib/vendor/moment-timezone.js"></script>
      <script src="lib/vendor/jquery.1.10.2.js"></script>
      <script src="lib/vendor/ember-1.5.min.js"></script>
    </head>

    <body>
      <script type="text/x-handlebars" data-template-name='application'>
        <div class="home-menu pure-menu pure-menu-open pure-menu-horizontal pure-menu-fixed">
        <a class="pure-menu-heading" href="/"><img src="http://vlctechhub.org/img/title.png" alt="VLCTechhub" title="VLCTechhub"/></a>
        <ul>
            <li>
              {{#link-to 'index'}}Próximos{{/link-to}}
            </li>
            <li>
              {{#link-to 'pastEvents'}}Pasados{{/link-to}}
            </li>
        </ul>

        <ul class="">
            <li class="pure-menu-selected">
              {{#link-to 'newEvent' classNames="pure-button button-warning"}}Nuevo evento{{/link-to}}
            </li>

        </ul>

        </div>
        <div class="main">

        <div class="content">
          {{outlet}}
        </div>

        </div>

      </script>

      <script type="text/x-handlebars" data-template-name='index'>
        {{event-title title="Próximos eventos"}}
        <div id="events" class="pure-g-r">
          {{#each}}
            {{event-details event=this classNames="pure-u-1-2"}}
          {{/each}}
          {{new-event-details classNames="pure-u-1-2"}}
        </div>
      </script>

      <script type="text/x-handlebars" data-template-name='pastEvents'>
        {{event-title title="Eventos pasados"}}
        <div id="events" class="pure-g-r">
          {{#each}}
            {{event-details event=this classNames="pure-u-1-2"}}
          {{/each}}
          {{new-event-details classNames="pure-u-1-2"}}
        </div>
      </script>

      <script type="text/x-handlebars" data-template-name="components/event-title">
        <h3>{{title}}<span class="caret blink">&nbsp;</span></h3>
      </script>

      <script type="text/x-handlebars" data-template-name="components/event-details">
        <div class="event">
          <div class="title"><a {{bind-attr href=event.link}} target="_blank" title="">{{event.title}}</a></div>
          <div class="date">{{prettyDate event.date}}</div>
          <div class="summary">
            <p>{{linkify event.description}}</p>
            <div class="more">
            <a class="pure-button" {{bind-attr href=event.link}}" target="_blank">Ver más</a></div>
          </div>
        </div>
      </script>

      <script type="text/x-handlebars" data-template-name="components/new-event-details">
        <div class="event new-event">
                <div class="title"><a href="#">¿Organizas un evento?</a></div>
                <div class="date">xx.xx.xx</div>
                <div class="summary">Si organizas un <strong>evento</strong>, taller, charla o quedada informal para fomentar una comunidad o compartir información de base <strong>tecnológica</strong>. Si es un evento <strong>gratuito</strong> o de pago para cubrir costes. Si ocurre en Valencia o Castellón. Si quieres formar parte de <strong>VlcTechHub</strong> da de alta tu evento.</div>
                <div class="add-event">
                {{#link-to 'newEvent' classNames="pure-button button-warning"}}¡Añadir mi evento! {{/link-to}}
                </div>
          </div>
      </script>

      <script type="text/x-handlebars" data-template-name="newEvent">
        {{event-title title="Nuevo evento"}}
        {{#if error}}
        <div class="callout callout-error">
        <h4>¡Ups! Houston, tenemos un problema</h4>
        <p>No hemos podido crear el evento, por favor, revisa que los datos son correctos</p>
        </div>
        {{/if}}
        {{#if success}}
        <div class="callout callout-success">
        <h4>¡Yuju! ¡Evento dado de alta!</h4>
        <p>Hemos dado de alta tu evento, pero ten en cuenta que la publicación no es inmediata.</p>
        </div>
        {{/if}}
        <form class="pure-form pure-form-stacked event">
          <fieldset>
            <div class="pure-g">
              <div class="pure-u-1 form-item">
                {{input id="new-event-title" classNames="pure-input-1" type="text" value=title focus-in='resetMessages' required=true}}
                <label for="new-event-title">Título</label>
                </div>
                <div class="pure-u-1 form-item">

                {{textarea id="new-event-description" value=description class="pure-input-1" focus-in='resetMessages' required=true}}
                <label for="new-event-description">Descripción</label>

              </div>
            <div class="pure-u-1 form-item">
                {{input id="new-event-link" classNames="pure-input-1" type="text" value=link focus-in='resetMessages' required=true}}
                <label for="new-event-link">Link</label>

              </div>
              <div class="pure-u-1-3 form-item">
              {{input id="new-event-start-date" value=date type="text" focus-in='resetMessages' required=true }}
              <label for="new-event-start-date">Fecha (dd/mm/yyyy)</label>

            </div>
            <div class="pure-u-1-3 form-item">
              {{input id="new-event-start-time" value=time type="text" focus-in='resetMessages' required=true }}
              <label for="new-event-start-time">Hora (hh:mm)</label>

            </div>
            </div>
          </fieldset>
          <button {{action "create"}} class="pure-input-1 button-success pure-button">¡Crear evento!</button>
        </form>
      </script>

       <script src="lib/app/vlctechhub/app.1.0.js"></script>

    </body>

</html>
